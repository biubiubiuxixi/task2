<?xml version="1.0" encoding="UTF-8"?>

<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xui="http://www.justep.com/xui" xid="window" class="window cZnIJBn" component="$model/UI2/system/components/justep/window/window" design="device:m;" style="width: 100%; height: 100%;" data-bind="component:{name:'$model/UI2/system/components/justep/window/window'}" __cid="cZnIJBn" components="$model/UI2/system/components/justep/model/model,$model/UI2/system/components/justep/loadingBar/loadingBar,$model/UI2/system/components/justep/controlGroup/controlGroup,$model/UI2/system/components/justep/row/row,$model/UI2/system/components/justep/data/data,$model/UI2/system/components/justep/window/window,">  
  <div xmlns="" component="$model/UI2/system/components/justep/model/model" xid="model" style="display:none" data-bind="component:{name:'$model/UI2/system/components/justep/model/model'}" __cid="cZnIJBn" class="cZnIJBn"/>  
  <div xmlns="" component="$model/UI2/system/components/justep/controlGroup/controlGroup" class="x-control-group cZnIJBn" xid="controlGroup1" style="height:570px;" data-bind="component:{name:'$model/UI2/system/components/justep/controlGroup/controlGroup'}" data-config="{&quot;title&quot;:&quot;Node.js教程&quot;}" __cid="cZnIJBn"> 
    <div class="x-control-group-title cZnIJBn" xid="controlGroupTitle1" style="background-color:#FFFFFF;" __cid="cZnIJBn"> 
      <span xid="span1" __cid="cZnIJBn" class="cZnIJBn">Node.js教程</span> 
    </div>  
    <div xid="oneDiv" style="height:33px;line-height:33px;" class="bg-info cZnIJBn" __cid="cZnIJBn" data-bind="event:{click:$model._callModelFn.bind($model, 'oneDivClick')}"> 
      <span xid="span4" style="text-align:center;" __cid="cZnIJBn" class="cZnIJBn">Node.js REPL(交互式解释器)</span> 
    </div>  
    <div xid="div6" style="height:auto;" __cid="cZnIJBn" class="cZnIJBn" data-bind="visible:$model.statusData.val(&quot;one&quot;)==1"> 
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row1" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col1" __cid="cZnIJBn"> 
          <h4 xid="h41" __cid="cZnIJBn" class="cZnIJBn">交互式解释器</h4>  
          <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row25" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
            <div class="x-col cZnIJBn" xid="col3" __cid="cZnIJBn"> 
              <span xid="span2" __cid="cZnIJBn" class="cZnIJBn"> 
                <ul __cid="cZnIJBn" class="cZnIJBn"> 
                  <li __cid="cZnIJBn" class="cZnIJBn"> 
                    <p __cid="cZnIJBn" class="cZnIJBn"> 
                      <b __cid="cZnIJBn" class="cZnIJBn">读取</b> - 读取用户输入，解析输入了Javascript 数据结构并存储在内存中。
                    </p> 
                  </li>  
                  <li __cid="cZnIJBn" class="cZnIJBn"> 
                    <p __cid="cZnIJBn" class="cZnIJBn"> 
                      <b __cid="cZnIJBn" class="cZnIJBn">执行</b> - 执行输入的数据结构
                    </p> 
                  </li>  
                  <li __cid="cZnIJBn" class="cZnIJBn"> 
                    <p __cid="cZnIJBn" class="cZnIJBn"> 
                      <b __cid="cZnIJBn" class="cZnIJBn">打印</b> - 输出结果
                    </p> 
                  </li>  
                  <li __cid="cZnIJBn" class="cZnIJBn"> 
                    <p __cid="cZnIJBn" class="cZnIJBn"> 
                      <b __cid="cZnIJBn" class="cZnIJBn">循环</b> - 循环操作以上步骤直到用户两次按下 
                      <b __cid="cZnIJBn" class="cZnIJBn">ctrl-c</b> 按钮退出。
                    </p> 
                  </li> 
                </ul> 
              </span> 
            </div> 
          </div> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row2" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col11" __cid="cZnIJBn"> 
          <h4 xid="h42" __cid="cZnIJBn" class="cZnIJBn">简单的表达式运算</h4>  
          <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row26" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
            <div class="x-col cZnIJBn" xid="col9" __cid="cZnIJBn"> 
              <span xid="span35" __cid="cZnIJBn" class="cZnIJBn"> 
                <pre __cid="cZnIJBn" class="cZnIJBn">$ node &gt; 1 +4 5 &gt; 5 / 2 2.5 &gt; 3 * 6 18 &gt; 4 - 1 3 &gt; 1 + ( 2 * 3 ) - 4 3 &gt;</pre> 
              </span> 
            </div> 
          </div> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row3" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col12" __cid="cZnIJBn"> 
          <h4 xid="h43" __cid="cZnIJBn" class="cZnIJBn">使用变量</h4>  
          <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row27" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
            <div class="x-col cZnIJBn" xid="col33" __cid="cZnIJBn"> 
              <span xid="span36" __cid="cZnIJBn" class="cZnIJBn"> 
                <p __cid="cZnIJBn" class="cZnIJBn">你可以将数据存储在变量中，并在你需要的时候使用它。</p>  
                <p __cid="cZnIJBn" class="cZnIJBn">变量声明需要使用 
                  <b __cid="cZnIJBn" class="cZnIJBn">var</b> 关键字，如果没有使用 var 关键字变量会直接打印出来。
                </p>  
                <p __cid="cZnIJBn" class="cZnIJBn">使用 
                  <b __cid="cZnIJBn" class="cZnIJBn">var</b> 关键字的变量可以使用 console.log() 来输出变量。
                </p>  
                <pre __cid="cZnIJBn" class="cZnIJBn">$ node &gt; x = 10 10 &gt; var y = 10 undefined &gt; x + y 20 &gt; console.log("Hello World") Hello World undefined &gt; console.log("www.runoob.com") www.runoob.com undefined</pre> 
              </span> 
            </div> 
          </div> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row4" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col34" __cid="cZnIJBn"> 
          <h4 xid="h44" __cid="cZnIJBn" class="cZnIJBn">多行表达式</h4>  
          <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row28" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
            <div class="x-col cZnIJBn" xid="col35" __cid="cZnIJBn"> 
              <span xid="span37" __cid="cZnIJBn" class="cZnIJBn"> 
                <p __cid="cZnIJBn" class="cZnIJBn">Node REPL 支持输入多行表达式，这就有点类似 JavaScript。接下来让我们来执行一个 do-while 循环：</p>  
                <pre __cid="cZnIJBn" class="cZnIJBn">$ node &gt; var x = 0 undefined &gt; do { ... x++; ... console.log("x: " + x); ... } while ( x &lt; 5 ); x: 1 x: 2 x: 3 x: 4 x: 5 undefined &gt;</pre> 
              </span> 
            </div> 
          </div> 
        </div> 
      </div> 
    </div>  
    <div xid="twoDiv" style="height:33px;line-height:33px;" class="bg-success cZnIJBn" __cid="cZnIJBn" data-bind="event:{click:$model._callModelFn.bind($model, 'twoDivClick')}"> 
      <span xid="span9" style="text-align:center;" __cid="cZnIJBn" class="cZnIJBn">Node.js 回调及循环</span> 
    </div>  
    <div xid="div8" style="height:auto;" __cid="cZnIJBn" class="cZnIJBn" data-bind="visible:$model.statusData.val(&quot;two&quot;)==1"> 
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row5" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col16" __cid="cZnIJBn"> 
          <span xid="span13" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">阻塞代码实例</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">创建一个文件 input.txt ，内容如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">菜鸟教程官网地址：www.runoob.com</pre>  
            <p __cid="cZnIJBn" class="cZnIJBn">创建 main.js 文件, 代码如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">var fs = require("fs"); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var data = fs.readFileSync('input.txt'); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> console.log(data.toString());
              <br __cid="cZnIJBn" class="cZnIJBn"/> console.log("程序执行结束!");
            </pre>  
            <p __cid="cZnIJBn" class="cZnIJBn">以上代码执行结果如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">$ node main.js 菜鸟教程官网地址：www.runoob.com 程序执行结束!</pre> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row7" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col14" __cid="cZnIJBn"> 
          <span xid="span11" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">非阻塞代码实例</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">创建一个文件 input.txt ，内容如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">菜鸟教程官网地址：www.runoob.com</pre>  
            <p __cid="cZnIJBn" class="cZnIJBn">创建 main.js 文件, 代码如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">var fs = require("fs"); fs.readFile('input.txt', function (err, data) { if (err) return console.error(err); console.log(data.toString()); }); console.log("程序执行结束!");</pre>  
            <p __cid="cZnIJBn" class="cZnIJBn">以上代码执行结果如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">$ node main.js 程序执行结束! 菜鸟教程官网地址：www.runoob.com</pre> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row8" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col15" __cid="cZnIJBn"> 
          <span xid="span12" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">事件驱动程序</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">Node.js 使用事件驱动模型，当web server接收到请求，就把它关闭然后进行处理，然后去服务下一个web请求。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">当这个请求完成，它被放回处理队列，当到达队列开头，这个结果被返回给用户。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">这个模型非常高效可扩展性非常强，因为webserver一直接受请求而不等待任何读写操作。（这也被称之为非阻塞式IO或者事件驱动IO）</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">在事件驱动模型中，会生成一个主循环来监听事件，当检测到事件时触发回调函数。</p>  
            <img src="http://www.runoob.com/wp-content/uploads/2015/09/event_loop.jpg" style="width:100%;" __cid="cZnIJBn" class="cZnIJBn"/> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row6" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col13" __cid="cZnIJBn"> 
          <span xid="span10" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">Node 应用程序是如何工作的？</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">在 Node 应用程序中，执行异步操作的函数将回调函数作为最后一个参数， 回调函数接收错误对象作为第一个参数。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">接下来让我们来重新看下前面的实例，创建一个 input.txt ,文件内容如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">菜鸟教程官网地址：www.runoob.com</pre>  
            <p __cid="cZnIJBn" class="cZnIJBn">创建 main.js 文件，代码如下：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">var fs = require("fs"); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> fs.readFile('input.txt', function (err, data) { 
              <br __cid="cZnIJBn" class="cZnIJBn"/> if (err){ console.log(err.stack); return; } 
              <br __cid="cZnIJBn" class="cZnIJBn"/> console.log(data.toString()); }); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> console.log("程序执行完毕");
            </pre> 
          </span> 
        </div> 
      </div> 
    </div>  
    <div xid="threeDiv" style="height:33px;line-height:33px;" class="bg-danger cZnIJBn" __cid="cZnIJBn" data-bind="event:{click:$model._callModelFn.bind($model, 'threeDivClick')}"> 
      <span xid="span14" style="text-align:center;" __cid="cZnIJBn" class="cZnIJBn">Node.js EventEmitter</span> 
    </div>  
    <div xid="div10" style="height:auto;" __cid="cZnIJBn" class="cZnIJBn" data-bind="visible:$model.statusData.val(&quot;three&quot;)==1"> 
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row9" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col19" __cid="cZnIJBn"> 
          <span xid="span18" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">EventEmitter 类</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">events 模块只提供了一个对象： events.EventEmitter。EventEmitter 的核心就是事件触发与事件监听器功能的封装。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">你可以通过require("events");来访问该模块。</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">// 引入 events 模块 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var events = require('events'); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> // 创建 eventEmitter 对象 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var eventEmitter = new events.EventEmitter();
            </pre> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row12" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col17" __cid="cZnIJBn"> 
          <span xid="span16" __cid="cZnIJBn" class="cZnIJBn"> 
            <p __cid="cZnIJBn" class="cZnIJBn">EventEmitter 对象如果在实例化时发生错误，会触发 error 事件。当添加新的监听器时，newListener 事件会触发，当监听器被移除时，removeListener 事件被触发。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">下面我们用一个简单的例子说明 EventEmitter 的用法：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">//event.js 文件 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var EventEmitter = require('events').EventEmitter; 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var event = new EventEmitter(); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> event.on('some_event', function() { 
              <br __cid="cZnIJBn" class="cZnIJBn"/> console.log('some_event 事件触发'); }); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> setTimeout(function() { event.emit('some_event'); }, 1000);
            </pre> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row10" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col20" __cid="cZnIJBn"> 
          <span xid="span15" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">error 事件</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">EventEmitter 定义了一个特殊的事件 error，它包含了错误的语义，我们在遇到 异常的时候通常会触发 error 事件。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">当 error 被触发时，EventEmitter 规定如果没有响 应的监听器，Node.js 会把它当作异常，退出程序并输出错误信息。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">我们一般要为会触发 error 事件的对象设置监听器，避免遇到错误后整个程序崩溃。例如：</p>  
            <pre __cid="cZnIJBn" class="cZnIJBn">var events = require('events'); 
              <br __cid="cZnIJBn" class="cZnIJBn"/> var emitter = new events.EventEmitter(); 
              <br __cid="cZnIJBn" class="cZnIJBn"/>emitter.emit('error');
            </pre> 
          </span> 
        </div> 
      </div>  
      <div component="$model/UI2/system/components/justep/row/row" class="x-row cZnIJBn" xid="row11" data-bind="component:{name:'$model/UI2/system/components/justep/row/row'}" __cid="cZnIJBn"> 
        <div class="x-col cZnIJBn" xid="col18" __cid="cZnIJBn"> 
          <span xid="span17" __cid="cZnIJBn" class="cZnIJBn"> 
            <h4 __cid="cZnIJBn" class="cZnIJBn">继承 EventEmitter</h4>  
            <p __cid="cZnIJBn" class="cZnIJBn">大多数时候我们不会直接使用 EventEmitter，而是在对象中继承它。包括 fs、net、 http 在内的，只要是支持事件响应的核心模块都是 EventEmitter 的子类。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">为什么要这样做呢？原因有两点：</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">首先，具有某个实体功能的对象实现事件符合语义， 事件的监听和发射应该是一个对象的方法。</p>  
            <p __cid="cZnIJBn" class="cZnIJBn">其次 JavaScript 的对象机制是基于原型的，支持 部分多重继承，继承 EventEmitter 不会打乱对象原有的继承关系。</p> 
          </span> 
        </div> 
      </div> 
    </div> 
  </div> 
</div>
